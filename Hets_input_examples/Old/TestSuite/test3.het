logic Hybrid

%% even harder
%% should say disproved 

spec aux =
	modality M 
	nominal N
spec f1 =
	aux then
	pred p,q : ()
	. @N ! X (<M> <M> [M] [M] <M> ! Y ([M] <M> p /\ (Here Y <=> Here X)) => 
		@X <M> <M> [M] !Y (<M> <M> p => @X (Here Y) => [M] <M> [M] <M> p => q)) <=>
	  ! X (<M> <M> [M] [M] <M> ! Y ([M] <M> p /\ (Here Y <=> Here X)) => 
		@X <M> [M] <M> <M> [M] !Y (<M> <M> p => @X (Here Y) => [M] <M> [M] <M> p => q)) %implied


%%begin
%%down (x1 <R1><R1> [R1][R1]<R1> down (x2 [R1] <R1> p1 & (x1 <--> x2))
%%        -> x1 : <R1> <R1> [R1] down (x3 <R1> <R1> p1 -> x1 : x3 -> [R1] <R1> [R1] <R1> p1 -> p2)) <-->
%%down (x1 <R1><R1> [R1][R1]<R1> down (x2 [R1] <R1> p1 & (x1 <--> x2))
%%        -> x1 : <R1> [R1] <R1> <R1> [R1] down (x3 <R1> <R1> p1 -> x1 : x3 -> [R1] <R1> [R1] <R1> p1 -> p2))
%%end

spec f2 = 
	aux then 
	pred p,q,r,s,t : ()
	. ( not (( p /\ (not q)) /\ (((((q => p) /\ (r => q)) /\ ((p => (( t => ([M](p => t))) /\ ((not t) =>
	([M](p => (not t)))))) /\ (q => ((s => ([M](q => s))) /\ ((not s) => ([M](q => (not s)))))))) /\ ((p /\
	(not q)) => (( <M> ((q /\ (not r)) /\ s)) /\ ( <M> ((q /\ (not r)) /\ (not s)))))) /\ ([M] (((( q => p) /\
	(r => q)) /\ ((p => ((t => ([M](p => t))) /\ ((not t) => ([M](p => (not t)))))) /\ (q => ((s => 
	([M](p => t))) /\ ((not t) => ([M](p => (not t)))))))) /\ ((p /\ (not q)) => (( <M> ((q /\ (not r)) /\ p))
	/\ ( <M> ((q /\ (not r)) /\ (not s)))))))))) \/ (not ( [M] s)) %implied

%%begin
%%(!((P100 & (!P101)) & (((((P101 -> P100) & (P102 -> P101)) & ((P100 -> ((P0
%%-> ([R1](P100 -> P0))) & ((!P0) -> ([R1](P100 -> (!P0)))))) & (P101 -> ((P1
%%-> ([R1](P101 -> P1))) & ((!P1) -> ([R1](P101 -> (!P1)))))))) & ((P100 &
%%(!P101)) -> ((<R1>((P101 & (!P102)) & P1)) & (<R1>((P101 & (!P102)) &
%%(!P1)))))) & ([R1]((((P101 -> P100) & (P102 -> P101)) & ((P100 -> ((P0 ->
%%([R1](P100 -> P0))) & ((!P0) -> ([R1](P100 -> (!P0)))))) & (P101 -> ((P1 ->
%%([R1](P101 -> P1))) & ((!P1) -> ([R1](P101 -> (!P1)))))))) & ((P100 &
%%(!P101)) -> ((<R1>((P101 & (!P102)) & P1)) & (<R1>((P101 & (!P102)) &
%%(!P1)))))))))) | (!([R1] P1))
%%end



spec f3 = 
	aux then
	. ! X  [M] [M] ( ! Y @X <M> (Here Y) ) /\ [M] <M> true /\ <M> true  %implied
end

%%begin
%%(down (x1 [R1]([R1]( down( x2 (x1:<R1>(x2)))))));
%%([R1]<R1>true);
%%(<R1>true)
%%ends
